{"version":3,"file":"static/js/835.73e4ad48.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/SearchForm/Search.module.css?b998","components/SearchForm/SearchForm.jsx","webpack://goit-react-hw-05-movies/./src/pages/MoviesPage/MoviesPage.module.css?7ea7","pages/MoviesPage/MoviesPage.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"formSection\":\"Search_formSection__NuBHj\",\"input\":\"Search_input__La3Ww\",\"button\":\"Search_button__CmfhD\"};","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSearchParams } from 'react-router-dom';\n\nimport searchFormStyles from \"./Search.module.css\";\n\nconst SearchForm = ({ onSelectName = () => {} }) => {\n  const [name, setName] = useState('');\n  const [, setSearchParams] = useSearchParams();\n\n  const onChange = e => {\n    setName(e.target.value);\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const searchName = name.trim();\n    onSelectName(searchName);\n    setSearchParams({ query: searchName });\n\n    reset();\n  };\n\n  const reset = () => {\n    setName('');\n  };\n\n  return (\n    <div className={searchFormStyles.formSection}>\n      <form onSubmit={onSubmit}>\n        <input\n          className={searchFormStyles.input}\n          type=\"text\"\n          name=\"name\"\n          value={name}\n          placeholder=\"Enter name to find the movie\"\n          onChange={onChange}\n          required\n        />\n        <button className={searchFormStyles.button} type=\"submit\">\n          Search\n        </button>\n      </form>\n    </div>\n  );\n};\n\n\nSearchForm.propTypes = {\n  onSelectName: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;","// extracted by mini-css-extract-plugin\nexport default {\"moviesList\":\"MoviesPage_moviesList__RPIho\",\"titleMovie\":\"MoviesPage_titleMovie__PvyjT\"};","import Loader from 'components/Loader';\nimport SearchForm from 'components/SearchForm';\nimport React, { useState, useEffect } from 'react';\nimport { Link, useSearchParams, useLocation } from 'react-router-dom';\nimport { getSearchMovie } from 'services/api';\nimport moviesPageStyles from './MoviesPage.module.css';\n\nconst MoviesPage = () => {\n  const [name, setName] = useState('');\n  const [movies, setMovies] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const location = useLocation();\n  const [searchParams] = useSearchParams();\n  const movieName = searchParams.get('query') ?? '';\n  movieName && !name && setName(movieName);\n\n  useEffect(() => {\n    if (!name) return;\n\n    const fetchMovieByName = async name => {\n      try {\n        setIsLoading(true);\n        const { results } = await getSearchMovie(name);\n        setMovies(results);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchMovieByName(name);\n  }, [name]);\n\n  const onSelectName = name => {\n    setName(name);\n    setMovies([]);\n  };\n\n  return (\n    <div className={moviesPageStyles.moviesList}>\n      <SearchForm onSelectName={onSelectName} />\n\n      {error.length > 0 && <p>Upss, Some error occured... {error}</p>}\n      {isLoading && <Loader />}\n      <ul>\n        {Boolean(movies?.length) &&\n          movies.map(movie => {\n            return (\n              <li key={movie.id}>\n                <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n                  <h2 className={moviesPageStyles.titleMovie}>{movie.title}</h2>\n                </Link>\n              </li>\n            );\n          })}\n      </ul>\n    </div>\n  );\n};\n\nexport default MoviesPage;\n","import axios from 'axios';\n\nexport const getTrendingMovies = async () => {\n    const { data } = await axios.get('https://api.themoviedb.org/3/trending/movie/day?api_key=55bbd5b4793347702f14e57aeb59d8e4&language=en-GB');\n    console.log(data);\n    return data;\n}\n\nexport const getMovieDetails = async (movie_id = '') => {\n  const { data } = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movie_id}?api_key=55bbd5b4793347702f14e57aeb59d8e4&language=en-GB`\n  );\n  return data;\n};\n\nexport const getMovieCredits = async (movie_id = '') => {\n  const { data } = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movie_id}/credits?api_key=55bbd5b4793347702f14e57aeb59d8e4&language=en-GB`\n  );\n  return data;\n};\n\nexport const getMovieReviews = async (movie_id = '') => {\n  const { data } = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movie_id}/reviews?api_key=55bbd5b4793347702f14e57aeb59d8e4&language=en-GB&page=1`\n  );\n  return data;\n};\n\nexport const getSearchMovie = async (name = '') => {\n  const { data } = await axios.get(\n    `https://api.themoviedb.org/3/search/movie?query=${name}&api_key=55bbd5b4793347702f14e57aeb59d8e4&language=en-US&page=1&include_adult=false`\n  );\n  return data;\n};"],"names":["onSelectName","useState","name","setName","useSearchParams","setSearchParams","reset","className","searchFormStyles","onSubmit","e","preventDefault","searchName","trim","query","type","value","placeholder","onChange","target","required","movies","setMovies","isLoading","setIsLoading","error","setError","location","useLocation","movieName","get","useEffect","fetchMovieByName","getSearchMovie","results","message","moviesPageStyles","length","Loader","Boolean","map","movie","to","id","state","from","title","getTrendingMovies","axios","data","console","log","getMovieDetails","movie_id","getMovieCredits","getMovieReviews"],"sourceRoot":""}